<div class="header">
  <h1 class="heading">Server Side Filter</h1>
  <p style="margin-left: 10px;"> Server Side Filter + Pagination + Sorting</p>
</div>
<div class="container mt-2">
  <div class="row mb-2">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-3">
          <label for="category" class="form-label">Category</label>
          <input type="text" class="form-control" [(ngModel)]="categoryName">
        </div>
        <div class="col-md-3">
          <label for="productName" class="form-label">Product Name</label>
          <input type="text" class="form-control" [(ngModel)]="productName">
        </div>
        <div class="col-md-3">
          <label for="productId" class="form-label">Product Id</label>
          <input type="text" class="form-control" [(ngModel)]="productId">
        </div>
        <div class="col-md-2 align-self-end">
          <button type="button" class="btn btn-primary" (click)="OnSearch()">Search</button>
        </div>
        <div class="col-2">
          <select [(ngModel)]="pageSize" (change)="OnSearch()">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th (click)="onSort('productId')">Product Id</th>
            <th (click)="onSort('productName')">Product Name</th>
            <th (click)="onSort('shortName')">Short Name</th>
            <th (click)="onSort('category')">Category</th>
            <th (click)="onSort('price')">Price</th>
          </tr>
        </thead>
        <tbody>
          @for (item of productList; track $index) {
          <tr>
            <td>{{item.productId}}</td>
            <td>{{item.productName}}</td>
            <td>{{item.shortName}}</td>
            <td>{{item.category}}</td>
            <td>{{item.price}}</td>
          </tr>
          }
        </tbody>
      </table>
      <nav>
        <ul class="pagination">
          <li class="page-item" [class.disabled]="pageNumber == 1">
            <a class="page-link" (click)="onPageChange(pageNumber-1)">Previous</a>
          </li>
          <li class="page-item" [class.active]="pageNumber == page" (click)="onPageChange(page)"
            *ngFor="let page of getPageNumbers()">
            <a class="page-link">{{page}}</a>
          </li>
          <li class="page-item" [class.disabled]="pageNumber == getValue()">
            <a class="page-link" (click)="onPageChange(pageNumber+1)">Next</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>